{"version":3,"sources":["webpack:///./src/widgets/McCountdown/McCountdown.vue?5247","webpack:///./src/widgets/McCountdown/McCountdown.vue?5ff7","webpack:///./src/widgets/McCountdown/McCountdown.vue?f107","webpack:///./src/widgets/McCountdown/McCountdown.vue?f058","uni-app:///src/widgets/McCountdown/McCountdown.vue","webpack:///./src/widgets/McCountdown/McCountdown.vue?9623","webpack:///./src/widgets/McCountdown/McCountdown.vue?3ae2"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoI;AACpI;AAC+D;AACL;AACsC;;;AAGhG;AACmI;AACnI,gBAAgB,gJAAU;AAC1B,EAAE,iFAAM;AACR,EAAE,kGAAM;AACR,EAAE,2GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACtDA;AAAA;AAAA;AAAA;AAAwc,CAAgB,oeAAG,EAAC,C;;;;;;;;;;;;;;;;;;;ACsE5d;;;;;;;;;;gBAEA;AACA,qBADA;AAGA;AACA;AACA,kBADA;AAEA;AAFA,KADA;AAKA;AACA,kBADA;AAEA;AAFA;AALA,GAHA;AAcA,MAdA,kBAcA;AACA;AACA,uBADA;AACA;AACA,gBAFA;AAGA,aAHA;AAIA;AAJA;AAMA,GArBA;AAuBA;AACA,QADA,kBACA;AACA;AACA,KAHA;AAIA,WAJA,qBAIA;AACA;AACA,KANA;AAOA,WAPA,qBAOA;AACA;AACA;AATA,GAvBA;AAmCA;AACA;AACA,qBADA;AAEA,gBAFA;AAGA,aAHA,qBAGA;AACA;AACA;AACA,mDAHA,CAIA;AAEA;;AACA;AACA;AAEA;AACA,iCAJA,CAKA;AACA,SANA,MAMA;AACA;AAEA;AACA,iCAJA,CAKA;AACA,SANA,MAMA;AACA;AAEA;AACA;AACA;AACA;AA5BA,KADA;AA+BA;AACA,aADA,mBACA,QADA,EACA,QADA,EACA;AACA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA;AACA,OAZA;AAaA;AAbA;AA/BA,GAnCA;AAmFA;AACA;AACA,cAFA,sBAEA,KAFA,EAEA;AACA;;AACA;AACA;AACA;;AACA;AACA;AARA,GAnFA;AA8FA;AACA;AACA,mBAFA,6BAEA;AAAA;;AACA;AACA,4BAFA,CAGA;;AACA;AAAA;AAAA;AACA,KAPA;AASA,kBATA,4BASA;AACA,uCADA,CACA;AACA;;AACA,gBACA,2BACA,0CADA,GAEA,wCAHA;AAIA,gCAPA,CAOA;;AAEA;AACA;AACA;AACA,KArBA;AAuBA,gBAvBA,0BAuBA;AACA;AACA,6CACA,2BADA;AAEA;AACA,wBACA,qBACA,YADA,GAEA,sBACA,UADA,GAEA;AARA;AAUA,KAnCA;AAqCA,iBArCA,2BAqCA;AACA;AACA;AADA;AAGA,KAzCA;AA2CA;AACA,gBA5CA,0BA4CA;AACA;AACA;AADA;;AAIA;AACA;AACA;;AAEA;AACA;AAtDA;AA9FA,C;;;;;;;;;;;;;ACxEA;AAAA;AAAA;AAAA;AAA24B,CAAgB,u3BAAG,EAAC,C;;;;;;;;;;;ACA/5B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"widgets/McCountdown/McCountdown.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./McCountdown.vue?vue&type=template&id=24cd0229&scoped=true&\"\nvar renderjs\nimport script from \"./McCountdown.vue?vue&type=script&lang=js&\"\nexport * from \"./McCountdown.vue?vue&type=script&lang=js&\"\nimport style0 from \"./McCountdown.vue?vue&type=style&index=0&id=24cd0229&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"24cd0229\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"widgets/McCountdown/McCountdown.vue\"\nexport default component.exports","export * from \"-!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--15-0!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./McCountdown.vue?vue&type=template&id=24cd0229&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var s0 = _vm.__get_style([_vm.getWrapStyle()])\n\n  var s1 = _vm.__get_style([_vm.getLabelStyle()])\n\n  var g0 =\n    _vm.status != \"end\" ? [\"one\", \"two\"].includes(_vm.styles.model) : null\n  var s2 =\n    _vm.status != \"end\" && g0 ? _vm.__get_style([_vm.getItemStyle()]) : null\n  var f0 = _vm.status != \"end\" && g0 ? _vm._f(\"timeFormat\")(_vm.hour) : null\n  var s3 =\n    _vm.status != \"end\" && g0 ? _vm.__get_style([_vm.getItemStyle()]) : null\n  var f1 = _vm.status != \"end\" && g0 ? _vm._f(\"timeFormat\")(_vm.minutes) : null\n  var s4 =\n    _vm.status != \"end\" && g0 ? _vm.__get_style([_vm.getItemStyle()]) : null\n  var f2 = _vm.status != \"end\" && g0 ? _vm._f(\"timeFormat\")(_vm.seconds) : null\n  var f3 =\n    _vm.status != \"end\" && _vm.styles.model == \"three\"\n      ? _vm._f(\"timeFormat\")(_vm.hour)\n      : null\n  var f4 =\n    _vm.status != \"end\" && _vm.styles.model == \"three\"\n      ? _vm._f(\"timeFormat\")(_vm.minutes)\n      : null\n  var f5 =\n    _vm.status != \"end\" && _vm.styles.model == \"three\"\n      ? _vm._f(\"timeFormat\")(_vm.seconds)\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        s0: s0,\n        s1: s1,\n        g0: g0,\n        s2: s2,\n        f0: f0,\n        s3: s3,\n        f1: f1,\n        s4: s4,\n        f2: f2,\n        f3: f3,\n        f4: f4,\n        f5: f5,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./McCountdown.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./McCountdown.vue?vue&type=script&lang=js&\"","<!--\n * @Description: 倒计时组件\n *  \n *   @Date: 2024-05-21 19:13:20\n *   \n * @LastEditTime: 2024-01-08 15:58:12\n-->\n<template>\n  <div>\n    <div class=\"flex col-center p10\" :style=\"[getWrapStyle()]\">\n      <!-- 标题 -->\n      <div class=\"mr3 f13 f-bold\" :style=\"[getLabelStyle()]\">\n        <span v-if=\"status == 'unStart'\">距{{ value.text }}开始</span>\n        <span v-if=\"status == 'ongoing'\">距{{ value.text }}结束</span>\n        <span v-if=\"status == 'end'\">{{ value.text }}已经结束</span>\n      </div>\n\n      <!-- 倒计时 -->\n      <template v-if=\"status != 'end'\">\n        <!-- 样式1 -->\n        <div v-if=\"['one', 'two'].includes(styles.model)\" class=\"flex f12\">\n          <span>\n            <p class=\"block-time\" :style=\"[getItemStyle()]\">\n              {{ hour | timeFormat }}\n            </p>\n            :\n          </span>\n          <span>\n            <p class=\"block-time\" :style=\"[getItemStyle()]\">\n              {{ minutes | timeFormat }}\n            </p>\n            :\n          </span>\n          <span>\n            <p class=\"block-time\" :style=\"[getItemStyle()]\">\n              {{ seconds | timeFormat }}\n            </p>\n          </span>\n        </div>\n\n        <!-- 样式2 -->\n        <div v-if=\"styles.model == 'three'\" class=\"f13\">\n          <span class=\"ml3 mr3\">\n            <span\n              class=\"mr3 f18 f-bold\"\n              :style=\"{ color: this.styles.timeColor }\"\n              >{{ hour | timeFormat }}</span\n            >时\n          </span>\n          <span class=\"mr3\">\n            <span\n              class=\"mr3 f18 f-bold\"\n              :style=\"{ color: this.styles.timeColor }\"\n              >{{ minutes | timeFormat }}</span\n            >分\n          </span>\n          <span class=\"\">\n            <span\n              class=\"mr3 f18 f-bold\"\n              :style=\"{ color: this.styles.timeColor }\"\n              >{{ seconds | timeFormat }}</span\n            >秒\n          </span>\n        </div>\n      </template>\n    </div>\n  </div>\n</template>\n\n<script>\nimport moment from 'moment'\n\nexport default {\n  name: 'McCountdown',\n\n  props: {\n    styles: {\n      type: Object,\n      default: () => {}\n    },\n    value: {\n      type: Object,\n      default: () => {}\n    }\n  },\n\n  data () {\n    return {\n      status: 'unStart', // unStart:未开始  ongoing:进行中  end:已结束\n      over: true,\n      diff: 0,\n      timer: null\n    }\n  },\n\n  computed: {\n    hour () {\n      return Math.floor(this.diff / 1000 / 3600)\n    },\n    minutes () {\n      return Math.floor(this.diff / 1000 / 60) % 60\n    },\n    seconds () {\n      return Math.floor(this.diff / 1000) % 60\n    }\n  },\n\n  watch: {\n    value: {\n      immediate: true,\n      deep: true,\n      handler () {\n        let startUni = moment(this.value.startTime).unix()\n        let endUni = moment(this.value.endTime).unix()\n        let nowUni = moment().unix()\n        // console.log(\"触发\");\n\n        // 活动还未到开始时间\n        if (nowUni < startUni) {\n          console.log('活动还未到开始时间')\n\n          this.status = 'unStart'\n          this.countdownHandle()\n          // 活动正在进行重\n        } else if (startUni <= nowUni && nowUni < endUni) {\n          console.log('活动正在进行重')\n\n          this.status = 'ongoing'\n          this.countdownHandle()\n          // 活动已结束\n        } else {\n          // console.log(\"活动已结束\");\n\n          this.status = 'end'\n          clearTimeout(this.timer)\n        }\n      }\n    },\n    'styles.model': {\n      handler (newValue, oldValue) {\n        if (newValue == 'one') {\n          this.styles.timeColor = '#000'\n          this.styles.location = 'left'\n        } else if (newValue == 'two') {\n          this.styles.timeColor = '#db2b13'\n          this.styles.location = 'mid'\n        } else {\n          this.styles.timeColor = '#db2b13'\n          this.styles.location = 'mid'\n        }\n      },\n      immediate: true\n    }\n  },\n\n  filters: {\n    // 时间补零格式化\n    timeFormat (value) {\n      let str = value + ''\n      if (str.length == 1) {\n        return `0${str}`\n      }\n      return str\n    }\n  },\n\n  methods: {\n    // 倒计时\n    countdownHandle () {\n      // 立即执行一次\n      this.diffTimeHandle()\n      // 定时循环执行\n      this.timer = setInterval(() => this.diffTimeHandle(), 1000)\n    },\n\n    diffTimeHandle () {\n      let now = moment() //当前时间\n      //结束时间\n      let end =\n        this.status == 'unStart'\n          ? moment(this.value.startTime)\n          : moment(this.value.endTime)\n      this.diff = end.diff(now) //时间差\n\n      if (this.diff <= 0) {\n        clearTimeout(this.timer)\n      }\n    },\n\n    getWrapStyle () {\n      let location = this.styles.location\n      return {\n        ...this.$cmpStyle(this.styles),\n        // ...this.$getMultiBackground(this.styles.backgroundConfig),\n        justifyContent:\n          location == 'left'\n            ? 'flex-start'\n            : location == 'right'\n            ? 'flex-end'\n            : 'center'\n      }\n    },\n\n    getLabelStyle () {\n      return {\n        color: this.styles.titleColor\n      }\n    },\n\n    // 时间块样式\n    getItemStyle () {\n      let styleObj = {\n        background: this.styles.timeColor\n      }\n\n      if (this.styles.model == 'two') {\n        styleObj.padding = '5px 5px'\n      }\n\n      return styleObj\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.block-time {\n  display: inline-block;\n  margin: 0 5px;\n  padding: 3px 2px;\n  border-radius: 3px;\n  color: #ffffff;\n  font-size: 12px;\n}\n</style>\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--9-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--9-oneOf-1-5!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./McCountdown.vue?vue&type=style&index=0&id=24cd0229&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--9-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--9-oneOf-1-5!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./McCountdown.vue?vue&type=style&index=0&id=24cd0229&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1715915281762\n      var cssReload = require(\"D:/大学课程活动/毕业设计/front/mall-cook-master/packages/mall-cook-template/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}